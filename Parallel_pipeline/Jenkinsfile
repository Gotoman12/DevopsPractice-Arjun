pipeline {
    agent none
    stages{
        stage("First stage on window"){
            parallel{
                   stage("Checkin Code"){
                    agent any
                    steps{
                        sh '''
                        echo "checking code"
                        '''
                    }
                   }
                   stage("Checkin out"){
                    agent any
                    steps{
                        sh '''
                        echo "checking out"
                        '''
                    }
                   }
            }
        }
        stage("Deploy"){
            steps{
                sh '''
                   echo "Deploy code"
                '''
            }
        }
        stage("Test Code"){
            parallel{
                stage("Test in S1T"){
                    agent any
                    steps{
                        sh '''
                           echo "validate the application in S1T"
                        '''
                    }
                }
                stage("Test in PPRD"){
                    agent any
                    steps{
                        sh '''
                           echo "validate the application in PPRD"
                        '''
                    }
                }
                stage("Test in PROD"){
                    agent any
                    steps{
                        sh '''
                           echo "validate the application in PROD"
                        '''
                    }
                }
                
            }
        }
    }
}